{"version":3,"sources":["../../src/controllers/apartmentController.js"],"names":["addAnApartment","data","userId","model","Apartment","create","newApartment","addTenants","deleteAnApartment","id","destroy","where","getAnApartment","findOne","include","review","as","result","updateAnApartment","update","getAllApartment","findAll","allApartment","apartmentType"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;AAGO,IAAMA,cAAc;AAAA,qEAAG,iBAAOC,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACCC,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBJ,IAAvB,CADD;;AAAA;AACpBK,YAAAA,YADoB;AAAA;AAAA,mBAEpBA,YAAY,CAACC,UAAb,CAAwBL,MAAxB,CAFoB;;AAAA;AAAA,6CAGnBI,YAHmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAdN,cAAc;AAAA;AAAA;AAAA,GAApB;;;;AAMA,IAAMQ,iBAAiB;AAAA,sEAAG,kBAAMC,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACvBN,KAAK,CAACC,SAAN,CAAgBM,OAAhB,CAAwB;AAC1BC,cAAAA,KAAK,EAAC;AAAEF,gBAAAA,EAAE,EAAEA;AAAN;AADoB,aAAxB,CADuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAjBD,iBAAiB;AAAA;AAAA;AAAA,GAAvB;;;;AAMA,IAAMI,cAAc;AAAA,sEAAG,kBAAMH,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACLN,KAAK,CAACC,SAAN,CAAgBS,OAAhB,CAAwB;AACzCF,cAAAA,KAAK,EAAE;AAACF,gBAAAA,EAAE,EAAEA;AAAL,eADkC;AAEzCK,cAAAA,OAAO,EAAE,CAAC;AACNX,gBAAAA,KAAK,EAAEA,KAAK,CAACY,MADP;AACeC,gBAAAA,EAAE,EAAE;AADnB,eAAD;AAFgC,aAAxB,CADK;;AAAA;AACpBC,YAAAA,MADoB;AAAA,8CAOnBA,MAPmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAdL,cAAc;AAAA;AAAA;AAAA,GAApB;;;;AAWA,IAAMM,iBAAiB;AAAA,sEAAG,kBAAMT,EAAN,EAAUR,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACvBE,KAAK,CAACC,SAAN,CAAgBe,MAAhB,CAAuBlB,IAAvB,EAA6B;AAAGU,cAAAA,KAAK,EAAE;AAAEF,gBAAAA,EAAE,EAAEA;AAAN;AAAV,aAA7B,CADuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAjBS,iBAAiB;AAAA;AAAA;AAAA,GAAvB;;;;AAKA,IAAME,eAAe;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAjB,KAAK,CAACC,SAAN,CAAgBiB,OAAhB,EADA;;AAAA;AACrBC,YAAAA,YADqB;AAAA,8CAEpBA,YAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfF,eAAe;AAAA;AAAA;AAAA,GAArB;;;AAKA,IAAMG,aAAa,GAAG,CACzB,gBADyB,EAEzB,gBAFyB,EAGzB,QAHyB,EAIzB,qBAJyB,EAKzB,gCALyB,EAMzB,mBANyB,CAAtB","sourcesContent":["import * as model from '../models.js'\r\n\r\n\r\nexport const addAnApartment = async (data, userId) => {\r\n    const newApartment = await model.Apartment.create(data)\r\n    await newApartment.addTenants(userId)\r\n    return newApartment\r\n}\r\n\r\nexport const deleteAnApartment = async(id) => {\r\n    await model.Apartment.destroy({\r\n        where:{ id: id}\r\n    })\r\n}\r\n\r\nexport const getAnApartment = async(id) => {\r\n    const result = await model.Apartment.findOne({\r\n        where: {id: id},\r\n        include: [{\r\n            model: model.review, as: 'All_Reviews'\r\n        }]\r\n    })\r\n    return result;\r\n}\r\n\r\n\r\nexport const updateAnApartment = async(id, data) => {\r\n    await model.Apartment.update(data, {  where: { id: id } })\r\n}\r\n\r\n\r\nexport const getAllApartment = async() => {\r\n    const allApartment = await model.Apartment.findAll()\r\n    return allApartment\r\n}\r\n\r\nexport const apartmentType = [\r\n    '2 bedroom flat', \r\n    '3 bedroom flat', \r\n    'a room', \r\n    'a room self contain', \r\n    'a room and palour self contain', \r\n    'a room and palour'\r\n]"],"file":"apartmentController.js"}